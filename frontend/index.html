<!DOCTYPE html>
<html>
<head>
<title>Browsergame</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABILAAASCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AD09PRo+Pj4MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Pj4MPj49Gv///wAAAAAAMDAwVS0tLc4rKyv+LCws7jU1NSoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0NDQqLCws7isrK/4tLS3OMTExVCsrK/AqKir/Kysr/ysrK/8uLi6qAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALi4uqisrK/8rKyv/Kioq/ywsLPAsLCzjKioq/zIyMv9UVFT/NTU1/DQzMy8tLS0KLS0tCi0tLQotLS0KMzMzLzk5OfxQUFD/LS0t/ysqKv8sLCzjLS0tni4uLv9PT0//8fHx/1VVVf8uLi79Ly8v/DQ0NPw0NDT8Ly8v/DAwMP1vb2///////z8/P/8tLS3/Li4tnjAwMFdtbW3/+fn5/7i4uP/7+/v/dHR0/39/f//9/f3//Pz8/4KCgv+dnZ3//////6mpqf//////U1NT/zAvL1dAQEAUQ0ND+3Fxcf/9/f3/c3Nz/0VFRf9IR0z/Y1iI/1iHaf9ITkr/TU1N/5WVlf//////dnZ2/zw8PPs9PT0U////AC0tLcc8PDz/hISE/0BAQP8rKir/Kyor/ysqLv8qLiv/Kisr/ysqKv9MTEz/oqKi/zIyMv8tLS3H////AAAAAAA0MzNKQEBA/z09Pf89PT3/LS0t3iwsLNssLCzbLCws2ywsLNsvLy/jPT09/z09Pf8+Pj76MzMzRQAAAAAAAAAA////AI+PjzyUlJRDkJCQPnl5eQIAAAAAAAAAAAAAAAAAAAAAeHh4BpOTkkGUlJRDjo6ONAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AAD//wAAj/EAAAfgAAAH4AAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAQAAg8MAAP//AAD//wAA//8AAA==" rel="icon" type="image/x-icon">

<style>

html {
    height: 100%;
}

body {
    text-align: center;
    font-family: Monaco, monospace;
    background-image: linear-gradient(to bottom right, #0021A7, #AB0092);
}

.text {
    color: white;
}

.button {
    width: 30%;
    padding: 5px 5px;
    font-family: Monaco, monospace;
    font-weight: bold;
    font-size: medium;
}

#login {
    float: right;
    margin-left: -50%;
    margin-top: 2em;
    margin-right: 1em;
    padding-left: 14px;
    padding-right: 14px;
}

#registrieren, #player, #logout {
    float: right;
    margin-left: -50%;
    margin-top: 2em;
    margin-right: 1em;
    padding-left: 14px;
    padding-right: 14px;
}

#about, #help, #player, #history, #rang, p {
    color: white;
}


</style>  
</head>

<body onload="checkplayer()">

<div id="homepage">

    <button id="login"><a href="/login.html">Log In</a></button>
    <p id="player" hidden></p><br><br>
    <button id="registrieren"><a href="/registrieren.html">Sign Up</a></button>
    <button id="logout" onclick="logoutplayer()" hidden>Log out</button>

    <h2 class="text">Abandoned</h2>
    <h3 class="text">The game</h3><br><br>

    <button class="button" id="start"><a href="/game.html">Start</a></button><br><br>
    <button class="button" id="historybutton" onclick="showHistory()">History</button><br><br>
    <button class="button" id="rangbutton" onclick="showScore()">Ranking</button><br><br>
    <button class="button" id="hilfe" onclick="showHelp()">Help</button><br><br>
    <button class="button" id="aboutbutton" onclick="displayAbout()">About</button><br><br>

    <p>Please note: Sign up to save your runs and get the possibility to show former runs. 
        Otherwise your run will be saved as unknown user.</p> 

</div>

<div id="history" hidden>
    <h2>History</h2>
    <div>
        <h3>Here you can see what you did in your last playthrough:</h3>
        <p>...</p>

        <button id="back" onclick="displayStart()">Back to start</button>
    </div>
</div>

<div id="rang" hidden>
    <h2>Ranking</h2>
    <div>
        <h3>Here you can see where you are in the ranking:</h3>
        <p>...</p>

        <button id="back" onclick="displayStart()">Back to start</button>
    </div>
</div>

<div id="help" hidden>
    <h2>How to play:</h2>
    <div>
        <p>Hier wird eine Anleitung stehen</p>
        <button id="back" onclick="displayStart()">Back to start</button>
    </div>
</div>

<div id="about" hidden>
    <h2>About</h2>
    <div>
        <h3>Welcome to our little Browsergame!</h3>
        <p>This game was developed by Daniel Schiefer and Aymara Cortez Espinoza for their final project. We hope you enjoy! &#127918</p>

        <button id="back" onclick="displayStart()">Back to start</button>
    </div>
</div>

<script>
    


function logoutplayer() {
    player = null;
    document.getElementById('login').hidden = false;
    document.getElementById('player').hidden = true;
    document.getElementById('registrieren').hidden = false;
    document.getElementById('logout').hidden = true;
    sessionStorage.clear(); 

    let url = new URL(window.location.origin + '/logout');
        fetch(url, 
        {
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            method: "GET"
        })
}

function checkplayer() {
    let player = null || sessionStorage.getItem("player");
    if (player !== null) {
        document.getElementById('player').innerHTML = 'Logged in as: ' + player;
        document.getElementById('login').hidden = true;
        document.getElementById('player').hidden = false;
        document.getElementById('registrieren').hidden = true;
        document.getElementById('logout').hidden = false;
    } else {
        document.getElementById('login').hidden = false;
        document.getElementById('player').hidden = true;
        document.getElementById('registrieren').hidden = false;
        document.getElementById('logout').hidden = true;
    }
}

function displayAbout() {
    document.getElementById('homepage').hidden = true;
    document.getElementById('about').hidden = false;
    document.getElementById('help').hidden = true;
    document.getElementById('history').hidden = true;
    document.getElementById('rang').hidden = true;
}

function displayStart() {
    document.getElementById('homepage').hidden = false;
    document.getElementById('about').hidden = true;
    document.getElementById('help').hidden = true;
    document.getElementById('history').hidden = true;
    document.getElementById('rang').hidden = true;
}

function startGame() {}

function showHistory() {
    document.getElementById('history').hidden = false;
    document.getElementById('homepage').hidden = true;
    document.getElementById('about').hidden = true;
    document.getElementById('help').hidden = true;
    document.getElementById('rang').hidden = true;
}

function showScore() {
    document.getElementById('rang').hidden = false;
    document.getElementById('history').hidden = true;
    document.getElementById('homepage').hidden = true;
    document.getElementById('about').hidden = true;
    document.getElementById('help').hidden = true;
}

function showHelp() {
    document.getElementById('homepage').hidden = true;
    document.getElementById('about').hidden = true;
    document.getElementById('help').hidden = false;
    document.getElementById('history').hidden = true;
    document.getElementById('rang').hidden = true;
}

</script>

</body>
</html>
